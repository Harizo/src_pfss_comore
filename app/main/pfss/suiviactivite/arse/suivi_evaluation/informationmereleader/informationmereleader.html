<div id="forms" class="page-layout simple fullwidth doc-page" layout="column">
        <!-- HEADER -->
        <div class="header md-accent-bg" layout="row" layout-align="space-between">
            <div layout="column" layout-align="space-between">
                <div class="breadcrumb" layout="row" layout-align="start center">
                    <md-icon md-font-icon="icon-home" class="s16"></md-icon>
					<md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
					<span class="parent">Suvi activité</span>
					<md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
					<span class="parent">ARSE</span>
					<md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
					<span class="parent">Suivi évaluation</span>
					<md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
					<span class="parent">Information mère leader</span>
                </div>
            </div>
        </div>
        <div class="content" layout="column">
            <div class="form-wrapper">
                <div style="clear:both;"></div>
				<md-progress-circular ng-if="vm.affiche_load" class="md-accent" aria-label="Rating" md-mode="indeterminate" md-diameter="64"></md-progress-circular> 
				<div ng-if="vm.affiche_load" style="position:relative;top: -30px;  left: 60px;color: #039be5">
					Chargement,veuillez patienter s'il vous plait ...
				</div>
                <md-tabs md-dynamic-height>
                    <md-tab label="Liste mère leader">
						<div style="clear:both;"></div>	
							<form name="filtrepardateform" class="md-inline-form" novalidate >
								<div layout="column" layout-gt-xs="row" flex>
									<md-input-container flex="100" flex-gt-xs="15">
									  <label>Île</label>
										<md-select ng-model="vm.filtre.id_ile" name="ile" ng-change="vm.filtre_region()" required>
										 
										  <md-option ng-repeat="ile in vm.all_ile" value="{{ile.id}}" >
											{{ile.Ile}}
										  </md-option>

										</md-select>
										<div ng-messages="filtrepardateform.ile.$error"
										  role="alert">
										  <div ng-message="required">
											<span>Île obligatoire</span>
										  </div>
										</div>
									</md-input-container>

									<md-input-container flex="100" flex-gt-xs="15">
									  <label>Préfecture</label>
										<md-select ng-model="vm.filtre.id_region" name="region" ng-change="vm.filtre_commune()" ng-disabled="!vm.filtre.id_ile" required>
										  
										  <md-option ng-repeat="region in vm.all_region" value="{{region.id}}" >
											{{region.Region}}
										  </md-option>

										</md-select>
										<div ng-messages="filtrepardateform.ile.$error"
										  role="alert">
										  <div ng-message="required">
											<span>Préfecture  obligatoire</span>
										  </div>
										</div>
									</md-input-container>

									<md-input-container flex="100" flex-gt-xs="15">
									  <label>Commune</label>
										<md-select ng-model="vm.filtre.id_commune" name="commune" ng-change="vm.filtre_village()" ng-disabled="!vm.filtre.id_region"  required>
										 
										  <md-option ng-repeat="commune in vm.all_commune" value="{{commune.id}}" >
											{{commune.Commune}}
										  </md-option>

										</md-select>
										<div ng-messages="filtrepardateform.ile.$error"
										  role="alert">
										  <div ng-message="required">
											<span>Commune obligatoire</span>
										  </div>
										</div>
									</md-input-container>

									<md-input-container flex="100" flex-gt-xs="15">
									  <label>Village</label>
										<md-select ng-model="vm.filtre.village_id" name="village" ng-change="vm.modifierVillage()" ng-disabled="!vm.filtre.id_commune"  required>
										  <md-option ng-repeat="village in vm.all_village" value="{{village.id}}" >
											{{village.Village}}
										  </md-option>

										</md-select>
										<div ng-messages="filtrepardateform.ile.$error"
										  role="alert">
										  <div ng-message="required">
											<span>Village obligatoire</span>
										  </div>
										</div>
									</md-input-container>
									<md-input-container flex="100" flex-gt-xs="5">
									  <label>Vague</label>
											<input type="text"  name="vague" ng-model="vm.filtre.vague" readonly>
									</md-input-container>
									<md-input-container flex="100" flex-gt-xs="5">
									  <label>ZIP</label>
											<input type="text"  name="zip" ng-model="vm.filtre.zip" readonly>
									</md-input-container>
									<div layout="column" layout-gt-xs="col" flex flex-gt-xs="10">
										<md-button type="submit" class="md-raised md-accent" aria-label="Actualiser"
											  ng-if="!vm.affichage_masque" ng-disabled="filtrepardateform.$invalid||vm.affiche_load || vm.selectedItem.id" ng-click="vm.filtrer(vm.filtre)"  style="height:40% !important;">
											  Actualiser
										</md-button>
									</div>	
								</div>		
							</form>	
							<div style="width:100%">
								<table class="dataTable row-border hover cell-border text-center" datatable="ng"
								  dt-options="vm.dtOptions" ng-if="!vm.affichage_masque">
								  <thead>
									<tr>
									  <th class="secondary-text" ng-repeat="re in ::vm.groupe_mlpl_column">
										<div class="table-header">
										  <span class="column-title text-center">{{re.titre}}</span>
										</div>
									  </th>
									</tr>
								  </thead>
								  <tbody>
									<tr ng-repeat="grp_mlpl in vm.all_groupe_mlpl track by $index"  ng-class="{selected: grp_mlpl.$selected}" ng-click="vm.selection(grp_mlpl)">
									  <td>{{grp_mlpl.date_creation  | date:'dd/MM/yyyy'}}</td>
									  <td class="text-left">{{grp_mlpl.identifiant_menage}} | {{grp_mlpl.nomchefmenage}}</td>
									  <td class="text-left">{{grp_mlpl.nom_prenom_ml_pl}}</td>
									  <td>{{grp_mlpl.sexe}}</td>
									  <td>{{grp_mlpl.age}}</td>
									  <td>{{grp_mlpl.lienparental}}</td>
									  <td>{{grp_mlpl.telephone}}</td>
									  <td>{{grp_mlpl.nom_groupe}}</td>
									</tr>
								  </tbody>
								</table>
							</div>
					</md-tab>
					<md-tab label="Réponse mère leader" ng-disabled="!vm.selectedItem.id">							
						<div style="clear:both;"></div>	
						<legend><b>Menage : {{vm.selectedItem.identifiant_menage}}  ML/PL : {{vm.selectedItem.nom_prenom_ml_pl}} </b></legend>
						<div style="clear:both;"></div>	
						<div layout="column" layout-gt-xs="row" flex>
							<fieldset style="width:100%">					
								<div style="clear:both;"></div>	
								<div layout="column" flex-gt-xs="25" ng-repeat='item in vm.allRecordsListevariable' style="width:25%;display:inline-block">					
									<fieldset class="standard" ng-if="item.choix_unique==0">
										<legend  class="md-grey-800-bg">{{item.code}}-{{item.description}}</legend>
										<md-checkbox ng-repeat='det in item.detail_variable' ng-checked="exists(det.id, vm.tab_reponse_variable)" ng-click="vm.toggle(det.id, vm.tab_reponse_variable)" ng-disabled="!vm.selectedItem.id">
											{{det.code}}-{{det.description}}
										</md-checkbox>
									</fieldset>
									<fieldset class="standard" ng-if="item.choix_unique==1">
										<legend  class="md-grey-800-bg">{{item.code}}-{{item.description}}</legend>
											<md-radio-group ng-model="vm.choix_unique[item.id]" ng-change="vm.ModifierChoixUnique()">
											   <div ng-repeat='detail in item.detail_variable' class="row">
												  <md-radio-button   ng-value="detail.id">{{detail.code}}-{{detail.description}}</md-radio-button>
											  </div>
										   </md-radio-group>
									</fieldset>
									<fieldset class="standard" ng-if="item.choix_unique==2">
										<p><label><b>{{item.code}}-{{item.description}} : </b></label></p>
										<p><input type="number" ng-model="vm.tab_quantifie[item.id]"></p>
									</fieldset>
									<fieldset class="standard" ng-if="item.choix_unique==3">
										<p><label><b>{{item.code}}-{{item.description}} : </b></label></p>
										<p><input type="text" ng-model="vm.tab_texte[item.id]"></p>
									</fieldset>
								</div>
								<section layout="row" layout-sm="column" layout-align="center center" layout-wrap>						 
								  <md-button class="md-raised md-primary" ng-disabled="!vm.selectedItem.id" ng-click="vm.sauvegarder_reponse_mereleader(vm.selectedItem.id)">Enregistrer</md-button>                         
								</section>
							</fieldset>
						</div>	
					</md-tab>
                </md-tabs>
            </div>
        </div>
    </div>
    